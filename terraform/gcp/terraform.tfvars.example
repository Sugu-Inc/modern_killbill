# Example Terraform variables configuration for GCP
# Copy this file to terraform.tfvars and customize for your deployment

# General Configuration
project_id   = "my-gcp-project-id"
region       = "us-central1"
environment  = "production"
project_name = "billing-platform"

# Network Configuration
subnet_cidr          = "10.0.0.0/24"
connector_cidr_range = "10.8.0.0/28"

# Cloud SQL PostgreSQL Configuration
db_tier                  = "db-custom-2-7680"  # For production: db-custom-4-15360 or larger
db_availability_type     = "REGIONAL"           # REGIONAL for HA, ZONAL for dev/staging
db_disk_size             = 100
db_max_disk_size         = 500
db_name                  = "billing"
db_username              = "billing_admin"
db_password              = "CHANGE-ME-USE-STRONG-PASSWORD"  # Use environment variable: TF_VAR_db_password
db_backup_retention_days = 30  # Set to 7 for staging, 1 for dev
db_deletion_protection   = true # Set to false for staging/dev

# Memorystore Redis Configuration
redis_tier      = "STANDARD_HA"  # STANDARD_HA for production, BASIC for dev/staging
redis_memory_gb = 4              # Set to 1 for dev/staging

# Cloud Run Configuration
cloud_run_cpu             = "2"    # vCPUs (1, 2, 4, 8)
cloud_run_memory          = "2Gi"  # Memory (512Mi, 1Gi, 2Gi, 4Gi, 8Gi)
cloud_run_min_instances   = "2"    # Set to "1" for staging, "0" for dev
cloud_run_max_instances   = "10"   # Set to "5" for staging, "3" for dev
cloud_run_max_concurrency = 80     # Concurrent requests per instance

# Container Registry Configuration
artifact_registry_repo = "us-central1-docker.pkg.dev/my-project-id/billing-platform"
app_image              = "billing-platform"
app_image_tag          = "v1.0.0"  # Or use commit SHA

# Domain Configuration
domain_name = "billing.example.com"

# Environment-specific examples:
# ==========================

# Production:
# db_tier = "db-custom-4-15360"  # 4 vCPU, 15.36 GB RAM
# db_availability_type = "REGIONAL"
# redis_tier = "STANDARD_HA"
# redis_memory_gb = 8
# cloud_run_min_instances = "2"
# cloud_run_max_instances = "20"

# Staging:
# db_tier = "db-custom-2-7680"
# db_availability_type = "ZONAL"
# redis_tier = "BASIC"
# redis_memory_gb = 2
# cloud_run_min_instances = "1"
# cloud_run_max_instances = "5"

# Development:
# db_tier = "db-f1-micro"
# db_availability_type = "ZONAL"
# redis_tier = "BASIC"
# redis_memory_gb = 1
# cloud_run_min_instances = "0"
# cloud_run_max_instances = "3"
